#!/usr/bin/python
# -*- coding: utf-8 -*-
###################################################################################################
# Built IN
import os, sys

###################################################################################################
class Debugger( object ):

    # =======================================================================
    def __init__(self, parent=None):

        # -------------------------------------------------------------------
        self.PARENT                                 = parent;
        self.LOG_TAG                                = str(self.__class__.__name__).upper();
 
        # -------------------------------------------------------------------
        self.LOG_NUM                                = 0;
        # -------------------------------------------------------------------
        self.PARENT.SPLASH.STATUS( self.LOG_TAG+": [INIT]" );
        # -------------------------------------------------------------------

    # =======================================================================
    def DEBUG( self ):

        # -------------------------------------------------------------------
        try:

            #print("METHOD_NAME: "+ dir( self.__class__)[0] );
            exc_type, exc_obj, tb = sys.exc_info()

            raport = "Exception: NR: ["+str(self.LOG_NUM)+"]\n";
            raport += "\tFILE: ['"+tb.tb_frame.f_code.co_filename+"', '"+str(tb.tb_lineno)+"']\n";
            raport += "\tDESC: ['"+str(exc_type.__name__)+"', '"+str(exc_obj)+"']";

            self.LOG_NUM += 1;

            self.LOCAL_WARNING_LOG( raport );

        except Exception as _err:
            pass;
            #print( self.LOG_TAG+".DEBUG: ["+str(_err)+"]" );

        # -------------------------------------------------------------------


    # =======================================================================
    def LOCAL_WARNING_LOG( self, _msg, METHOD=None ):

        # -------------------------------------------------------------------
        #if self.DEBUG or self.PARENT.DEBUG_GLOBAL: self.PARENT.DEBUGGER.DEBUG();
        # -------------------------------------------------------------------
        if METHOD is None:
            self.PARENT.LOCAL_WARNING_LOG( "['"+self.LOG_TAG+"']: ["+_msg+"]" );
        else:
            self.PARENT.LOCAL_WARNING_LOG( "['"+self.LOG_TAG+"."+METHOD+"']: ["+_msg+"]" );
        # -------------------------------------------------------------------

    # =======================================================================


###################################################################################################

